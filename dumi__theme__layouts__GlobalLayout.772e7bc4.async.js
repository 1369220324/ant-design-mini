"use strict";(self.webpackChunkantd_mini=self.webpackChunkantd_mini||[]).push([[1032],{67012:function(le,j,a){a.r(j),a.d(j,{default:function(){return ie}});var $=a(97857),k=a.n($),D=a(5574),E=a.n(D),w=a(54548),O=a(9361),B=a(25682),T=a(52830),o=a(67294),s=a(27248),F=a(7972),V=a(59320),G=a(38199);function se(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function z(v,n){var r=new URL(v),t=r.searchParams,u=t.get("page"),p=X(n.platform,u),g=p.platform,f=p.disablePlatformSwitch;t.set("platform",g),t.set("theme",n.theme);var y=new URL(r.origin+r.pathname);return y.searchParams.set("compilerServer",t.get("compilerServer")||""),y.searchParams.set("page",""),{url:r.toString(),originPath:y.toString(),page:u,supportPlatform:g,disablePlatformSwitch:f}}var H="alipay";function X(v,n){var r=F.L.map(function(t){return"".concat(t,"/index")}).some(function(t){return t===n});return!r&&v==="wechat"?{platform:H,disablePlatformSwitch:!0}:{platform:v,disablePlatformSwitch:!1}}var Y={name:"1nm27lw",styles:"background-color:#f9fafb"},K={name:"1nw5iit",styles:"background-color:#141414"},Q=function(){var n=(0,V.Z)(),r=n.token;return{previewerWrapper:(0,s.iv)("@media only screen and (max-width: ",r.screenLG,"px){display:none;}",""),dark:K,light:Y}},q=function(){var n=Q(),r=(0,o.useContext)(G.Z),t=r.theme,u=r.platform,p=r.herboxUrl,g=(0,o.useState)(!1),f=E()(g,2),y=f[0],I=f[1],c=(0,o.useRef)(null),d=(0,T.MZ)(),Z=(0,o.useMemo)(function(){var e;return(d==null||(e=d.meta)===null||e===void 0||(e=e.frontmatter)===null||e===void 0||(e=e.nav)===null||e===void 0?void 0:e.path)==="/components"},[d]),L=window.location.protocol+"//"+window.location.host+p,M=(0,o.useMemo)(function(){return z(L,{theme:(t==null?void 0:t.find(function(e){return["dark","light"].includes(e)}))||"light",platform:u})},[L,t,u]),x=M.originPath,P=M.page;function m(){var e=c.current;if(e){var l=function(){var S,i;e==null||(S=e.contentWindow)===null||S===void 0||S.postMessage({type:"setIsDarkMode",data:t.includes("dark")});var b=t.includes("dark")?"#000":"#fff";e==null||(i=e.contentWindow)===null||i===void 0||i.postMessage({type:"evaluateJavaScriptInWorkerCode",data:`
          my.setNavigationBar({
            backgroundColor: '`.concat(b,`',
            borderBottomColor: '`).concat(b,`',
          });
      `)})};l()}}function C(){var e=c.current;if(!e)return;var l=t.includes("dark")?"#000":"#fff";function h(){var S;e==null||(S=e.contentWindow)===null||S===void 0||S.postMessage({type:"evaluateJavaScriptInWorkerCode",data:`
        console.log('\u8DF3\u8F6C\u9875\u9762','/`.concat(P,`');
        my.redirectTo({
          url: '/`).concat(P,`',
          success: () => {
            setTimeout(()=>{
              my.setNavigationBar({
                backgroundColor: '`).concat(l,`',
                borderBottomColor: '`).concat(l,`',
              });
            }, 500);
          },
      });
      `)})}h()}function N(e){var l,h=c.current;!h||!e||h==null||(l=h.contentWindow)===null||l===void 0||l.postMessage({type:"evaluateJavaScriptInWorkerCode",data:e})}(0,o.useEffect)(function(){t.length>0&&m()},[t]),(0,o.useEffect)(function(){P&&C()},[P]),(0,o.useEffect)(function(){var e=c.current;e&&(e.onload=function(){m(),window.setMsgToSim=N})},[c.current]);function R(e){if(e.data.type==="onAppReady"){var l=e.data.data;l&&(m(),C())}}return(0,o.useEffect)(function(){return window.addEventListener("message",R),function(){window.removeEventListener("message",R)}},[P]),(0,s.tZ)("div",{className:"previewer ".concat(!p||!Z?"hide":""," ").concat(t.includes("dark")?"theme-dark":"theme-light"),css:(0,s.iv)(n.previewerWrapper," ",t.includes("dark")?n.dark:n.light,";","")},!y&&(0,s.tZ)("div",{className:"previewer-loading"}),(0,s.tZ)("iframe",{ref:c,src:x,onLoad:function(){return I(!0)},allow:"clipboard-read; clipboard-write"}))},_=q,ee=a(96107),te=768,A="dumi-theme-antd-site-state",J={theme:[],isMobile:!1,direction:"ltr",platform:"alipay",herboxUrl:""},re=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(function(r){return r==="dark"?O.Z.darkAlgorithm:r==="compact"?O.Z.compactAlgorithm:O.Z.defaultAlgorithm})},ae=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches},oe=function(n){var r=n,t=ae(),u=(r==null?void 0:r.theme)||[],p=u.filter(function(f){return f==="auto"}).length>0;if(p){var g=u.filter(function(f){return f!=="auto"});g.push(t?"dark":"light"),r.theme=g}return Object.assign(J,r)},ne=function(){var n=(0,T.OI)(),r=E()(n,3),t=r[2],u=(0,ee.Z)(),p=u.theme,g=u.ssr,f=u.prefersColor,y=(0,o.useState)(J),I=E()(y,2),c=I[0],d=c.theme,Z=c.isMobile,L=c.direction,M=c.platform,x=c.herboxUrl,P=I[1],m=(0,o.useCallback)(function(i){try{var b=JSON.parse(window.localStorage.getItem(A)||"{}"),U=Object.assign(b,i);window.localStorage.setItem(A,JSON.stringify(U)),P(function(W){return k()(k()({},W),i)})}catch(W){console.error(W)}},[]),C=(0,o.useCallback)(function(){m({isMobile:window.innerWidth<te})},[m]);(0,o.useEffect)(function(){try{var i=JSON.parse(window.localStorage.getItem(A)||"{}");i!=null&&i.theme||(i.theme=[f.default]);var b=oe(i);m(b)}catch(U){console.error(U)}},[f,m]),(0,o.useEffect)(function(){return C(),t((d!=null?d:[]).indexOf("dark")>-1?"dark":"light"),window.addEventListener("resize",C),function(){window.removeEventListener("resize",C)}},[d,C,t]);var N=(0,o.useMemo)(function(){return{direction:L,isMobile:Z,theme:d,platform:M,herboxUrl:x,updateSiteConfig:m}},[Z,d,L,M,x,m]),R=o.useState(function(){return(0,w.createCache)()}),e=E()(R,1),l=e[0];(0,T.vj)(function(){var i=(0,w.extractStyle)(l,{plain:!0,types:"style"});return(0,s.tZ)("style",{"data-type":"antd-cssinjs",dangerouslySetInnerHTML:{__html:i}})}),(0,T.vj)(function(){var i=(0,w.extractStyle)(l,{plain:!0,types:["cssVar","token"]});return(0,s.tZ)("style",{"data-type":"antd-css-var","data-rc-order":"prepend","data-rc-priority":"-9999",dangerouslySetInnerHTML:{__html:i}})});var h=(0,s.tZ)(G.Z.Provider,{value:N},(0,s.tZ)(B.ZP,{theme:k()(k()({},p),{},{algorithm:re(d)})},(0,s.tZ)(T.j3,null),(0,s.tZ)(_,null))),S=(0,s.tZ)(w.StyleProvider,{cache:l,linters:[w.logicalPropertiesLinter,w.legacyNotSelectorLinter,w.parentSelectorLinter]},h);return g?(a.g.styleCache=l,S):h},ie=ne}}]);
