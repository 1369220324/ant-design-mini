<html>
  <head>
    <meta charset="utf-8" />
    <title>Openbox Lyra Debug</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <style>
    body {
      margin: 0;
    }
  </style>
  <body>
    <div id="root"></div>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/javascript" src="https://gw.alipayobjects.com/render/p/yuyan_npm/@alipay_antd-mini-lyra/1.0.0/bundle/lyra.js"></script>

    <script type="text/babel">
      (async () => {
        const Ele = () => {
          const [dist, setDist] = React.useState();

          async function getServerData() {
            const dist = await fetch(
              'https://opendocs.alipay.com/api/openbox/dist/publicdes-30330e65-1e2c-41e8-a573-b0b91995c92b-dist'
            );
            const distJSON = await dist.json();

            return distJSON;
          }

          React.useEffect(async () => {
            setDist(await getServerData());
          }, []);

          if (!dist) return null;

          const OpenBoxLyra = window.OpenBoxLyra.default;
          return (
            <OpenBoxLyra
              dist={dist}
              enableAppxNg
              maskThemeColor='#f9fafb'
              lyraKey='-441015578'
              lyraConfig={{
                zoom: 0.8,
                layoutHeight: 'match_parent',
                layoutWidth: 'match_parent',
                defaultDeviceName: 'iPhone 13',
                initWithAutoZoom: false,
                transparentBackground: true,
                // fullScreen: true,

                hideTopBar: true,
                hideBottomBar: true,

                enableDeviceSkin: false,
                hideTitleBar: true,
                liteMode: false,
              }}
            />
          );
        };

        // 渲染组件
        ReactDOM.render(<Ele />, document.getElementById('root'));
      })();
    </script>
  </body>
</html>
